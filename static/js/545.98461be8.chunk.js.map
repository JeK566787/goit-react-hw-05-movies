{"version":3,"file":"static/js/545.98461be8.chunk.js","mappings":"sKACA,MAAgC,8BAAhC,EAA6E,6B,SCS7E,EARe,WACb,OACE,gBAAKA,UAAWC,EAAhB,UACE,gBAAKD,UAAWC,KAGrB,C,oDCSD,IAfmB,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACdC,GAAWC,EAAAA,EAAAA,MACjB,OACE,wBACGF,EAAOG,KAAI,gBAAGC,EAAH,EAAGA,eAAgBC,EAAnB,EAAmBA,GAAnB,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,GAAME,MAAO,CAAEC,KAAMP,GAA1C,SACGG,KAFIC,EADC,KASjB,C,oHCdD,EAA6B,yBAA7B,EAAkE,wB,SCoBlE,EAnBa,SAAC,GAAkB,IAAhBI,EAAe,EAAfA,SAQd,OACE,kBAAMA,SARa,SAAAC,GACnBA,EAAEC,iBACFF,EAASC,EAAEE,OAAOC,SAASC,YAAYC,OAEvCL,EAAEE,OAAOC,SAASC,YAAYC,MAAQ,EACvC,EAGC,WACE,4BACE,kBAAOjB,UAAWC,EAAeiB,KAAM,OAAQC,KAAK,mBAEtD,mBAAQnB,UAAWC,EAAgBiB,KAAK,SAAxC,sBAKL,E,4CCnBD,EAA0B,2BCiD1B,EAvCmB,WACjB,OAA4BE,EAAAA,EAAAA,UAAS,IAArC,eAAOlB,EAAP,KAAemB,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAgCJ,EAAAA,EAAAA,WAAS,GAAzC,eAAOK,EAAP,KAAkBC,EAAlB,KAEMV,EAAcO,EAAaI,IAAI,MAErCC,EAAAA,EAAAA,YAAU,WACR,GAAKZ,EAAL,CAEA,IAAMa,EAAW,mCAAG,2FAClBH,GAAW,GADO,mBAIGI,EAAAA,EAAAA,IAAiBd,GAJpB,OAIVe,EAJU,OAKhBV,EAAUU,EAAKC,SALC,gDAOhBC,EAAAA,GAAAA,MAAY,wBAPI,yBAShBP,GAAW,GATK,4EAAH,qDAYjBG,GAdwB,CAezB,GAAE,CAACb,IAMJ,OACE,gCACE,iBAAKhB,UAAWC,EAAhB,WACE,SAAC,EAAD,CAAMU,SAPK,SAAAuB,GACfV,EAAgB,CAAEW,EAAGD,GACtB,IAMMhC,EAAOkC,OAAS,IAAK,SAACC,EAAA,EAAD,CAAYnC,OAAQA,OAE3CuB,IAAa,SAACa,EAAA,EAAD,MAGnB,C,+LC/CDC,EAAAA,EAAAA,SAAAA,QAAyB,gCACzBA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAAS,oCAGJ,IAAMC,EAAW,mCAAG,sGACFF,EAAAA,EAAAA,IAAU,uBADR,uBACjBR,EADiB,EACjBA,KADiB,kBAGlBA,GAHkB,2CAAH,qDAMXD,EAAgB,mCAAG,WAAMI,GAAN,kFACxBQ,EAAS,CAAER,MAAOA,GADM,SAEPK,EAAAA,EAAAA,IAAU,gBAAiB,CAAEG,OAAAA,IAFtB,uBAEtBX,EAFsB,EAEtBA,KAFsB,kBAGvBA,GAHuB,2CAAH,sDAMhBY,EAAa,mCAAG,WAAMpC,GAAN,yFACJgC,EAAAA,EAAAA,IAAA,iBAAoBhC,IADhB,uBACnBwB,EADmB,EACnBA,KADmB,kBAEpBA,GAFoB,2CAAH,sDAKba,EAAO,mCAAG,WAAMrC,GAAN,yFACEgC,EAAAA,EAAAA,IAAA,iBAAoBhC,EAApB,aADF,uBACbwB,EADa,EACbA,KADa,kBAEdA,GAFc,2CAAH,sDAKPc,EAAU,mCAAG,WAAMtC,GAAN,yFACDgC,EAAAA,EAAAA,IAAA,iBAAoBhC,EAApB,aADC,uBAChBwB,EADgB,EAChBA,KADgB,kBAEjBA,GAFiB,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","webpack://react-homework-template/./src/pages/MoviesPage/MoviePage.module.css?dc7a","pages/MoviesPage/MoviesPage.jsx","serevises/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loaderWrapper\":\"Loader_loaderWrapper__6ypwD\",\"ldsHourglass\":\"Loader_ldsHourglass__0jXeJ\",\"lds-hourglass\":\"Loader_lds-hourglass__+mmZL\"};","import css from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={css.loaderWrapper}>\n      <div className={css.ldsHourglass}></div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import { Link, useLocation } from 'react-router-dom';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul>\n      {movies.map(({ original_title, id }) => (\n        <li key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            {original_title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"formButton\":\"Form_formButton__7mGGM\",\"formInput\":\"Form_formInput__sgOCo\"};","import css from './Form.module.css';\n\nconst Form = ({ onSubmit }) => {\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(e.target.elements.searchQuery.value);\n\n    e.target.elements.searchQuery.value = '';\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label>\n        <input className={css.formInput} type={'text'} name=\"searchQuery\" />\n      </label>\n      <button className={css.formButton} type=\"submit\">\n        SEARCH\n      </button>\n    </form>\n  );\n};\nexport default Form;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MoviePage_wrapper__KMw+U\"};","import MoviesList from 'components/MoviesList/MoviesList';\nimport Form from 'components/Form/Form';\nimport { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport { useSearchParams } from 'react-router-dom';\nimport { getMoviesByQuery } from 'serevises/API';\nimport Loader from 'components/Loader/Loader';\n\nimport css from './MoviePage.module.css';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [isLoading, setLoading] = useState(false);\n\n  const searchQuery = searchParams.get('q');\n\n  useEffect(() => {\n    if (!searchQuery) return;\n\n    const fetchMovies = async () => {\n      setLoading(true);\n\n      try {\n        const data = await getMoviesByQuery(searchQuery);\n        setMovies(data.results);\n      } catch (error) {\n        toast.error('something went wrong');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [searchQuery]);\n\n  const onSubmit = query => {\n    setSearchParams({ q: query });\n  };\n\n  return (\n    <section>\n      <div className={css.wrapper}>\n        <Form onSubmit={onSubmit} />\n        {movies.length > 0 && <MoviesList movies={movies} />}\n      </div>\n      {isLoading && <Loader />}\n    </section>\n  );\n};\nexport default MoviesPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.params = {\n  api_key: '4550a8eec95d666ba10dfff9664c0efb',\n};\n\nexport const getTrending = async () => {\n  const { data } = await axios.get('/trending/movie/day');\n  // console.log(data);\n  return data;\n};\n\nexport const getMoviesByQuery = async query => {\n  const params = { query: query };\n  const { data } = await axios.get('/search/movie', { params });\n  return data;\n};\n\nexport const getMoviesById = async id => {\n  const { data } = await axios.get(`/movie/${id}`);\n  return data;\n};\n\nexport const getCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getReviews = async id => {\n  const { data } = await axios.get(`/movie/${id}/reviews`);\n  return data;\n};\n"],"names":["className","css","movies","location","useLocation","map","original_title","id","to","state","from","onSubmit","e","preventDefault","target","elements","searchQuery","value","type","name","useState","setMovies","useSearchParams","searchParams","setSearchParams","isLoading","setLoading","get","useEffect","fetchMovies","getMoviesByQuery","data","results","toast","query","q","length","MoviesList","Loader","axios","api_key","getTrending","params","getMoviesById","getCast","getReviews"],"sourceRoot":""}